---
#####################
## thesis metadata ##
#####################
title: |
  `oxforddown`: \
  An Oxford University Thesis \
  Template for R Markdown
author: Author Name
college: Your College
degree: Doctor of Philosophy
degreedate: Michaelmas 2018
abstract: |
  `r paste(readLines("chapters/_abstract.Rmd"), collapse = '\n  ')`
acknowledgements: |
  `r paste(readLines("chapters/_acknowledgements.Rmd"), collapse = '\n  ')`
dedication: For Yihui Xie
abbreviations: chapters/abbreviations # path to .tex file with abbreviations

#######################
## bibliography path ##
#######################
bibliography: example.bib

#####################
## PDF formatting  ##
#####################
abstractseparate: true  # include front page w/ abstract for examination schools?
bib-humanities: true   #set to true if you want in-text references formatted as author-year
draft: true # add as DRAFT mark in the footer?
page-layout: nobind #'nobind' for PDF output (equal margins), 'twoside' for two-sided binding (mirror margins and blank pages), leave blank for one-sided binding (left margin > right margin)
toc-depth: 2 # depth of heading to include in table of contents
lof: true # list of figures in front matter?
lot: true # list of tables in front matter?
mini-toc: true  # mini-table of contents at start of each chapter? (this just prepares it; you must also add \minitoc after the chapter titles)
mini-lot: false  # mini-list of tables by start of each chapter?
mini-lof: false  # mini-list of figures by start of each chapter?
params:
  corrections: true # set false to stop applying blue background to blocks of corrections

#####################
## output options  ##
#####################
output:
  bookdown::pdf_book:
    template: templates/template.tex
    keep_tex: true
    citation_package: biblatex  
    pandoc_args: ["--lua-filter=scripts_and_filters/correction_filter.lua"] #remove filter to stop applying blue background to inline corrections
  bookdown::gitbook:
    link-citations: true
    css: templates/style.css
    config:
      sharing:
        facebook: false
        twitter: yes
        all: false
  bookdown::word_document2: default   #NOTE: EXPERIMENTAL
documentclass: book
site: bookdown::bookdown_site

---

<!-- NOTE ON COMPILING YOUR THESIS:
For PDF output, click 'Build book' over on the Build tab. Output (and .tex) is stored as docs/_main.pdf

For gitbook output, go to the terminal (not the R console) and type 'make gitbook'. A set of HTML files is stored in docs/
-->

```{r create_chunk_options, include=FALSE}
source('scripts_and_filters/create_chunk_options.R')
```
<!-- NOTE ON CREATING NEW CHUNK OPTIONS: 
Include the create_chunk_options chunk above at the top of your index.Rmd file
This will include code to create additional chunk options (e.g. for adding author references to savequotes)
If you need to create your own additional chunk options, edit the file scripts/create_chunk_options.R
-->

```{r package_check, include=FALSE}
# List of packages required
pkg <- c("devtools", "bookdown")
# Check if packages are not installed and assign the
# names of the packages not installed to the variable new.pkg
new.pkg <- pkg[!(pkg %in% installed.packages())]
# If there are any packages in the list that aren't installed,
# install them
if (length(new.pkg))
  install.packages(new.pkg, repos = "http://cran.rstudio.com")
```

